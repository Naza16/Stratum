<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reports & Appeals Management - STRATUM Assessment System</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-cyan: #06b6d4;
            --primary-purple: #7c3aed;
            --dark-bg: #000000;
            --card-bg: rgba(20, 20, 20, 0.9);
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --accent-green: #10b981;
            --accent-orange: #f59e0b;
            --accent-red: #ef4444;
            --accent-blue: #3b82f6;
            --gradient-primary: linear-gradient(135deg, #06b6d4, #0891b2);
            --gradient-secondary: linear-gradient(135deg, #7c3aed, #5b21b6);
            --gradient-bg: linear-gradient(135deg, #000000 0%, #1a1a1a 25%, #2d2d2d 50%, #404040 75%, #595959 100%);
            --gradient-success: linear-gradient(135deg, #10b981, #059669);
            --gradient-warning: linear-gradient(135deg, #f59e0b, #d97706);
            --gradient-danger: linear-gradient(135deg, #ef4444, #dc2626);
            --gradient-info: linear-gradient(135deg, #3b82f6, #2563eb);
            --border-color: rgba(255, 255, 255, 0.1);
            --hover-bg: rgba(255, 255, 255, 0.05);
        }

        body {
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--gradient-bg);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Animated Background */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.03;
        }

        .floating-shapes {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .shape {
            position: absolute;
            border-radius: 50%;
            animation: float 30s infinite linear;
        }

        .shape:nth-child(1) {
            width: 80px;
            height: 80px;
            background: var(--gradient-primary);
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }

        .shape:nth-child(2) {
            width: 60px;
            height: 60px;
            background: var(--gradient-secondary);
            top: 60%;
            left: 80%;
            animation-delay: -10s;
        }

        .shape:nth-child(3) {
            width: 100px;
            height: 100px;
            background: var(--gradient-success);
            top: 80%;
            left: 20%;
            animation-delay: -20s;
        }

        .shape:nth-child(4) {
            width: 70px;
            height: 70px;
            background: var(--gradient-warning);
            top: 30%;
            left: 70%;
            animation-delay: -5s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-50px) rotate(90deg); }
            50% { transform: translateY(-30px) rotate(180deg); }
            75% { transform: translateY(-60px) rotate(270deg); }
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .header {
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-color);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 2rem;
            font-weight: 900;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-transform: uppercase;
            letter-spacing: 4px;
        }

        .gov-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--gradient-danger);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .nav-links {
            display: flex;
            gap: 2.5rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: all 0.3s ease;
            font-weight: 500;
            position: relative;
            padding: 0.5rem 0;
        }

        .nav-links a.active,
        .nav-links a:hover {
            color: var(--primary-cyan);
        }

        .nav-links a.active::before,
        .nav-links a:hover::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--primary-cyan);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .admin-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(16, 185, 129, 0.2);
            border-radius: 20px;
            border: 1px solid rgba(16, 185, 129, 0.4);
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            background: var(--accent-green);
            border-radius: 50%;
            animation: pulse-green 2s infinite;
        }

        @keyframes pulse-green {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .admin-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: var(--gradient-danger);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .admin-avatar:hover {
            transform: scale(1.1);
        }

        /* Reports Header */
        .reports-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 2rem 0;
            padding: 2rem;
            background: var(--card-bg);
            border-radius: 20px;
            border: 1px solid var(--border-color);
            backdrop-filter: blur(20px);
            position: relative;
        }

        .reports-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-secondary);
            border-radius: 20px 20px 0 0;
        }

        .reports-title {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .reports-title h1 {
            font-size: 2.5rem;
            font-weight: 800;
            background: var(--gradient-secondary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .reports-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .report-filter {
            display: flex;
            gap: 0.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 0.3rem;
            border: 1px solid var(--border-color);
        }

        .report-filter button {
            padding: 0.5rem 1rem;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .report-filter button.active,
        .report-filter button:hover {
            background: var(--gradient-secondary);
            color: white;
        }

        .generate-btn {
            padding: 0.8rem 1.5rem;
            background: var(--gradient-success);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(16, 185, 129, 0.3);
        }

        /* Tab Navigation */
        .tab-navigation {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 2rem;
            background: var(--card-bg);
            border-radius: 16px;
            padding: 0.5rem;
            border: 1px solid var(--border-color);
        }

        .tab-btn {
            padding: 1rem 2rem;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .tab-btn.active,
        .tab-btn:hover {
            background: var(--gradient-primary);
            color: white;
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Appeals Management */
        .appeals-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 2rem;
            text-align: center;
            border: 1px solid var(--border-color);
            transition: transform 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
        }

        .stat-card.pending::before { background: var(--gradient-warning); }
        .stat-card.approved::before { background: var(--gradient-success); }
        .stat-card.rejected::before { background: var(--gradient-danger); }
        .stat-card.total::before { background: var(--gradient-primary); }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
            opacity: 0.8;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
        }

        .stat-trend {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.3rem;
            font-size: 0.8rem;
            font-weight: 600;
        }

        /* Appeals Table */
        .appeals-container {
            background: var(--card-bg);
            border-radius: 20px;
            border: 1px solid var(--border-color);
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .appeals-header {
            background: rgba(0, 0, 0, 0.5);
            padding: 1.5rem 2rem;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .appeals-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .appeals-actions {
            display: flex;
            gap: 0.5rem;
        }

        .action-btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.8rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
        }

        .btn-success {
            background: var(--gradient-success);
            color: white;
        }

        .btn-danger {
            background: var(--gradient-danger);
            color: white;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }

        .action-btn:hover {
            transform: translateY(-1px);
        }

        .appeals-table {
            width: 100%;
            border-collapse: collapse;
        }

        .appeals-table th,
        .appeals-table td {
            padding: 1rem 2rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .appeals-table th {
            background: rgba(0, 0, 0, 0.3);
            color: var(--text-secondary);
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 1px;
        }

        .appeals-table tr:hover {
            background: var(--hover-bg);
        }

        .appeal-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .appeal-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .appeal-details {
            flex: 1;
        }

        .appeal-citizen {
            color: var(--text-primary);
            font-weight: 600;
            margin-bottom: 0.2rem;
        }

        .appeal-id {
            color: var(--text-secondary);
            font-size: 0.8rem;
            font-family: monospace;
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
            padding: 0.3rem 0.8rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-pending {
            background: rgba(245, 158, 11, 0.2);
            color: var(--accent-orange);
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        .status-approved {
            background: rgba(16, 185, 129, 0.2);
            color: var(--accent-green);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .status-rejected {
            background: rgba(239, 68, 68, 0.2);
            color: var(--accent-red);
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .status-under-review {
            background: rgba(59, 130, 246, 0.2);
            color: var(--accent-blue);
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .priority-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
            padding: 0.2rem 0.6rem;
            border-radius: 8px;
            font-size: 0.7rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .priority-high {
            background: rgba(239, 68, 68, 0.15);
            color: var(--accent-red);
        }

        .priority-medium {
            background: rgba(245, 158, 11, 0.15);
            color: var(--accent-orange);
        }

        .priority-low {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
        }

        /* Report Generation */
        .report-types {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .report-type-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 2rem;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .report-type-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-primary);
        }

        .report-type-card:hover {
            transform: translateY(-5px);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .report-icon {
            font-size: 2.5rem;
            color: var(--primary-cyan);
            margin-bottom: 1rem;
        }

        .report-name {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .report-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 1.5rem;
        }

        .report-generate-btn {
            width: 100%;
            padding: 0.8rem;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .report-generate-btn:hover {
            background: var(--gradient-secondary);
        }

        /* Charts */
        .charts-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .chart-container {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid var(--border-color);
        }

        .chart-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .chart-canvas {
            width: 100% !important;
            height: 300px !important;
        }

        /* Sidebar */
        .reports-layout {
            display: grid;
            grid-template-columns: 1fr 320px;
            gap: 2rem;
        }

        .reports-main {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .reports-sidebar {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid var(--border-color);
            backdrop-filter: blur(20px);
            transition: all 0.3s ease;
            position: relative;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            border-radius: 20px 20px 0 0;
        }

        .card.primary::before { background: var(--gradient-primary); }
        .card.success::before { background: var(--gradient-success); }
        .card.warning::before { background: var(--gradient-warning); }

        .section-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Quick Actions */
        .quick-actions {
            display: grid;
            gap: 1rem;
        }

        .quick-action {
            display: flex;
            align-items: center;
            gap: 1rem;
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .quick-action:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }

        .quick-action-icon {
            font-size: 1.2rem;
            background: var(--gradient-primary);
            color: white;
            padding: 0.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
        }

        .quick-action-content {
            flex: 1;
        }

        .quick-action-title {
            font-weight: 600;
            margin-bottom: 0.2rem;
        }

        .quick-action-description {
            color: var(--text-secondary);
            font-size: 0.8rem;
        }

        /* Recent Reports */
        .recent-reports {
            max-height: 400px;
            overflow-y: auto;
        }

        .report-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            border-radius: 12px;
            margin-bottom: 1rem;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .report-item:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .report-item-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            flex-shrink: 0;
            background: var(--gradient-primary);
            color: white;
        }

        .report-item-content {
            flex: 1;
        }

        .report-item-title {
            color: var(--text-primary);
            font-weight: 600;
            margin-bottom: 0.3rem;
            font-size: 0.9rem;
        }

        .report-item-meta {
            color: var(--text-secondary);
            font-size: 0.8rem;
            display: flex;
            gap: 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive Design */
        @media (max-width: 1400px) {
            .reports-layout {
                grid-template-columns: 1fr;
            }
            
            .appeals-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .report-types {
                grid-template-columns: repeat(2, 1fr);
            }

            .charts-section {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .appeals-stats {
                grid-template-columns: 1fr;
            }

            .report-types {
                grid-template-columns: 1fr;
            }

            .reports-header {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .reports-controls {
                flex-direction: column;
                width: 100%;
            }

            .report-filter {
                width: 100%;
                justify-content: center;
            }

            .tab-navigation {
                flex-wrap: wrap;
            }

            .appeals-table th,
            .appeals-table td {
                padding: 0.8rem 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loader"></div>
    </div>

    <!-- Animated Background -->
    <div class="animated-bg">
        <div class="floating-shapes">
            <div class="shape"></div>
            <div class="shape"></div>
            <div class="shape"></div>
            <div class="shape"></div>
        </div>
    </div>

    <header class="header">
        <div class="container">
            <nav class="nav">
                <div style="display: flex; align-items: center; gap: 2rem;">
                    <div class="logo">STRATUM</div>
                    <div class="gov-indicator">
                        <i class="fas fa-shield-alt"></i>
                        <span>Government Portal</span>
                    </div>
                </div>
                <ul class="nav-links">
                    <li><a href="Goverment-Dashboard.html">Dashboard</a></li>
                    <li><a href="Goverment-Analytics.html">Analytics</a></li>
                    <li><a href="Goverment-Alert.html">Alerts</a></li>
                    <li><a href="#reports" class="active">Reports</a></li>
                </ul>
                <div class="user-info">
                    <div class="admin-status">
                        <div class="status-indicator"></div>
                        <span>Administrator</span>
                    </div>
                    <div class="admin-avatar">GA</div>
                </div>
            </nav>
        </div>
    </header>

    <main class="container">
        <!-- Reports Header -->
        <div class="reports-header">
            <div class="reports-title">
                <i class="fas fa-file-alt" style="font-size: 2rem; color: var(--primary-purple);"></i>
                <div>
                    <h1>Reports & Appeals Management</h1>
                    <p style="color: var(--text-secondary); margin-top: 0.5rem;">Generate comprehensive reports and manage citizen appeals efficiently</p>
                </div>
            </div>
            <div class="reports-controls">
                <div class="report-filter">
                    <button onclick="setReportFilter('all')" class="active">All</button>
                    <button onclick="setReportFilter('appeals')">Appeals</button>
                    <button onclick="setReportFilter('analytics')">Analytics</button>
                    <button onclick="setReportFilter('compliance')">Compliance</button>
                    <button onclick="setReportFilter('audit')">Audit</button>
                </div>
                <button class="generate-btn" onclick="generateCustomReport()">
                    <i class="fas fa-plus"></i>
                    Generate Report
                </button>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="tab-navigation">
            <button class="tab-btn active" onclick="switchTab('appeals')">
                <i class="fas fa-balance-scale"></i>
                Appeals Management
            </button>
            <button class="tab-btn" onclick="switchTab('reports')">
                <i class="fas fa-chart-bar"></i>
                Report Generation
            </button>
            <button class="tab-btn" onclick="switchTab('analytics')">
                <i class="fas fa-analytics"></i>
                Report Analytics
            </button>
            <button class="tab-btn" onclick="switchTab('audit')">
                <i class="fas fa-search"></i>
                Audit Logs
            </button>
        </div>

        <!-- Appeals Management Tab -->
        <div id="appeals-tab" class="tab-content active">
            <!-- Appeals Statistics -->
            <section class="appeals-stats">
                <div class="stat-card pending">
                    <div class="stat-icon" style="color: var(--accent-orange);">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-number" data-target="156">0</div>
                    <div class="stat-label">Pending Appeals</div>
                    <div class="stat-trend" style="color: var(--accent-red);">
                        <i class="fas fa-arrow-up"></i>
                        <span>+12% this week</span>
                    </div>
                </div>
                
                <div class="stat-card approved">
                    <div class="stat-icon" style="color: var(--accent-green);">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-number" data-target="89">0</div>
                    <div class="stat-label">Approved Appeals</div>
                    <div class="stat-trend" style="color: var(--accent-green);">
                        <i class="fas fa-arrow-up"></i>
                        <span>+8% this week</span>
                    </div>
                </div>
                
                <div class="stat-card rejected">
                    <div class="stat-icon" style="color: var(--accent-red);">
                        <i class="fas fa-times-circle"></i>
                    </div>
                    <div class="stat-number" data-target="34">0</div>
                    <div class="stat-label">Rejected Appeals</div>
                    <div class="stat-trend" style="color: var(--accent-green);">
                        <i class="fas fa-arrow-down"></i>
                        <span>-3% this week</span>
                    </div>
                </div>
                
                <div class="stat-card total">
                    <div class="stat-icon" style="color: var(--primary-cyan);">
                        <i class="fas fa-list"></i>
                    </div>
                    <div class="stat-number" data-target="279">0</div>
                    <div class="stat-label">Total Appeals</div>
                    <div class="stat-trend" style="color: var(--accent-green);">
                        <i class="fas fa-arrow-up"></i>
                        <span>+7% this month</span>
                    </div>
                </div>
            </section>

            <div class="reports-layout">
                <div class="reports-main">
                    <!-- Appeals Table -->
                    <div class="appeals-container">
                        <div class="appeals-header">
                            <h3 class="appeals-title">
                                <i class="fas fa-balance-scale"></i>
                                Active Appeals
                            </h3>
                            <div class="appeals-actions">
                                <button class="action-btn btn-success" onclick="bulkApprove()">
                                    <i class="fas fa-check"></i>
                                    Bulk Approve
                                </button>
                                <button class="action-btn btn-danger" onclick="bulkReject()">
                                    <i class="fas fa-times"></i>
                                    Bulk Reject
                                </button>
                                <button class="action-btn btn-primary" onclick="exportAppeals()">
                                    <i class="fas fa-download"></i>
                                    Export
                                </button>
                                <button class="action-btn btn-secondary" onclick="refreshAppeals()">
                                    <i class="fas fa-sync"></i>
                                    Refresh
                                </button>
                            </div>
                        </div>
                        
                        <table class="appeals-table" id="appealsTable">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="selectAll" onchange="toggleSelectAll()"></th>
                                    <th>Citizen</th>
                                    <th>Appeal Type</th>
                                    <th>Points Disputed</th>
                                    <th>Priority</th>
                                    <th>Status</th>
                                    <th>Submitted</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="appealsTableBody">
                                <!-- Appeals will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>

                    <!-- Appeals Analytics Charts -->
                    <div class="charts-section">
                        <div class="chart-container">
                            <h3 class="chart-title">
                                <i class="fas fa-chart-pie"></i>
                                Appeals by Status
                            </h3>
                            <canvas id="appealsStatusChart" class="chart-canvas"></canvas>
                        </div>
                        
                        <div class="chart-container">
                            <h3 class="chart-title">
                                <i class="fas fa-chart-line"></i>
                                Appeals Trend (Last 30 Days)
                            </h3>
                            <canvas id="appealsTrendChart" class="chart-canvas"></canvas>
                        </div>
                    </div>
                </div>

                <div class="reports-sidebar">
                    <!-- Quick Actions -->
                    <div class="card primary">
                        <h3 class="section-title">
                            <i class="fas fa-bolt"></i>
                            Quick Actions
                        </h3>
                        <div class="quick-actions">
                            <div class="quick-action" onclick="reviewHighPriority()">
                                <div class="quick-action-icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="quick-action-content">
                                    <div class="quick-action-title">High Priority Review</div>
                                    <div class="quick-action-description">Review urgent appeals</div>
                                </div>
                            </div>
                            
                            <div class="quick-action" onclick="generateAppealsReport()">
                                <div class="quick-action-icon">
                                    <i class="fas fa-file-alt"></i>
                                </div>
                                <div class="quick-action-content">
                                    <div class="quick-action-title">Appeals Report</div>
                                    <div class="quick-action-description">Generate summary report</div>
                                </div>
                            </div>
                            
                            <div class="quick-action" onclick="configureAppeals()">
                                <div class="quick-action-icon">
                                    <i class="fas fa-cog"></i>
                                </div>
                                <div class="quick-action-content">
                                    <div class="quick-action-title">Configure Appeals</div>
                                    <div class="quick-action-description">Manage appeal settings</div>
                                </div>
                            </div>
                            
                            <div class="quick-action" onclick="appealStatistics()">
                                <div class="quick-action-icon">
                                    <i class="fas fa-chart-bar"></i>
                                </div>
                                <div class="quick-action-content">
                                    <div class="quick-action-title">View Statistics</div>
                                    <div class="quick-action-description">Detailed analytics</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Appeal Processing Guidelines -->
                    <div class="card success">
                        <h3 class="section-title">
                            <i class="fas fa-book"></i>
                            Processing Guidelines
                        </h3>
                        <div style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6;">
                            <div style="margin-bottom: 1rem;">
                                <strong style="color: var(--text-primary);">High Priority Appeals:</strong><br>
                                • Process within 24 hours<br>
                                • Require supervisor approval<br>
                                • Document all decisions
                            </div>
                            <div style="margin-bottom: 1rem;">
                                <strong style="color: var(--text-primary);">Standard Processing:</strong><br>
                                • Review within 5 business days<br>
                                • Verify supporting evidence<br>
                                • Provide detailed reasoning
                            </div>
                            <div>
                                <strong style="color: var(--text-primary);">Rejection Criteria:</strong><br>
                                • Insufficient evidence<br>
                                • Duplicate submissions<br>
                                • Outside appeal window
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Report Generation Tab -->
        <div id="reports-tab" class="tab-content">
            <div class="report-types">
                <div class="report-type-card" onclick="generateReport('citizen-summary')">
                    <div class="report-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="report-name">Citizen Summary Report</div>
                    <div class="report-description">
                        Comprehensive overview of citizen statistics, IEC scores, and demographic data across all districts.
                    </div>
                    <button class="report-generate-btn">Generate Report</button>
                </div>

                <div class="report-type-card" onclick="generateReport('appeals-analysis')">
                    <div class="report-icon">
                        <i class="fas fa-balance-scale"></i>
                    </div>
                    <div class="report-name">Appeals Analysis</div>
                    <div class="report-description">
                        Detailed analysis of appeal trends, success rates, and processing times with recommendations.
                    </div>
                    <button class="report-generate-btn">Generate Report</button>
                </div>

                <div class="report-type-card" onclick="generateReport('compliance-audit')">
                    <div class="report-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="report-name">Compliance Audit</div>
                    <div class="report-description">
                        System compliance report including security measures, data integrity, and regulatory adherence.
                    </div>
                    <button class="report-generate-btn">Generate Report</button>
                </div>

                <div class="report-type-card" onclick="generateReport('performance-metrics')">
                    <div class="report-icon">
                        <i class="fas fa-tachometer-alt"></i>
                    </div>
                    <div class="report-name">Performance Metrics</div>
                    <div class="report-description">
                        System performance analysis including response times, uptime, and resource utilization metrics.
                    </div>
                    <button class="report-generate-btn">Generate Report</button>
                </div>

                <div class="report-type-card" onclick="generateReport('risk-assessment')">
                    <div class="report-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="report-name">Risk Assessment</div>
                    <div class="report-description">
                        Comprehensive risk analysis of citizen populations, threat levels, and security recommendations.
                    </div>
                    <button class="report-generate-btn">Generate Report</button>
                </div>

                <div class="report-type-card" onclick="generateReport('financial-impact')">
                    <div class="report-icon">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                    <div class="report-name">Financial Impact</div>
                    <div class="report-description">
                        Economic impact analysis of the STRATUM system including cost savings and efficiency gains.
                    </div>
                    <button class="report-generate-btn">Generate Report</button>
                </div>
            </div>
        </div>

        <!-- Report Analytics Tab -->
        <div id="analytics-tab" class="tab-content">
            <div class="charts-section">
                <div class="chart-container">
                    <h3 class="chart-title">
                        <i class="fas fa-chart-bar"></i>
                        Report Generation Frequency
                    </h3>
                    <canvas id="reportFrequencyChart" class="chart-canvas"></canvas>
                </div>
                
                <div class="chart-container">
                    <h3 class="chart-title">
                        <i class="fas fa-download"></i>
                        Most Downloaded Reports
                    </h3>
                    <canvas id="downloadStatsChart" class="chart-canvas"></canvas>
                </div>
            </div>

            <div class="card primary">
                <h3 class="section-title">
                    <i class="fas fa-history"></i>
                    Recent Reports
                </h3>
                <div class="recent-reports">
                    <div class="report-item" onclick="viewReport('RPT-2024-001')">
                        <div class="report-item-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="report-item-content">
                            <div class="report-item-title">Monthly Citizen Summary - December 2024</div>
                            <div class="report-item-meta">
                                <span>Generated: 2 hours ago</span>
                                <span>Downloads: 23</span>
                                <span>Size: 2.4 MB</span>
                            </div>
                        </div>
                    </div>

                    <div class="report-item" onclick="viewReport('RPT-2024-002')">
                        <div class="report-item-icon">
                            <i class="fas fa-balance-scale"></i>
                        </div>
                        <div class="report-item-content">
                            <div class="report-item-title">Appeals Analysis Q4 2024</div>
                            <div class="report-item-meta">
                                <span>Generated: 1 day ago</span>
                                <span>Downloads: 45</span>
                                <span>Size: 1.8 MB</span>
                            </div>
                        </div>
                    </div>

                    <div class="report-item" onclick="viewReport('RPT-2024-003')">
                        <div class="report-item-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="report-item-content">
                            <div class="report-item-title">Security Compliance Audit</div>
                            <div class="report-item-meta">
                                <span>Generated: 3 days ago</span>
                                <span>Downloads: 12</span>
                                <span>Size: 5.2 MB</span>
                            </div>
                        </div>
                    </div>

                    <div class="report-item" onclick="viewReport('RPT-2024-004')">
                        <div class="report-item-icon">
                            <i class="fas fa-tachometer-alt"></i>
                        </div>
                        <div class="report-item-content">
                            <div class="report-item-title">System Performance Metrics</div>
                            <div class="report-item-meta">
                                <span>Generated: 1 week ago</span>
                                <span>Downloads: 67</span>
                                <span>Size: 3.1 MB</span>
                            </div>
                        </div>
                    </div>

                    <div class="report-item" onclick="viewReport('RPT-2024-005')">
                        <div class="report-item-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="report-item-content">
                            <div class="report-item-title">Risk Assessment Report</div>
                            <div class="report-item-meta">
                                <span>Generated: 2 weeks ago</span>
                                <span>Downloads: 89</span>
                                <span>Size: 4.7 MB</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Audit Logs Tab -->
        <div id="audit-tab" class="tab-content">
            <div class="card warning">
                <h3 class="section-title">
                    <i class="fas fa-search"></i>
                    System Audit Logs
                </h3>
                <div style="margin-bottom: 2rem;">
                    <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
                        <input type="date" style="padding: 0.5rem; background: rgba(255,255,255,0.1); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary);" id="auditStartDate">
                        <input type="date" style="padding: 0.5rem; background: rgba(255,255,255,0.1); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary);" id="auditEndDate">
                        <select style="padding: 0.5rem; background: rgba(255,255,255,0.1); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary);" id="auditCategory">
                            <option value="">All Categories</option>
                            <option value="user">User Actions</option>
                            <option value="system">System Events</option>
                            <option value="security">Security Events</option>
                            <option value="data">Data Changes</option>
                        </select>
                        <button class="action-btn btn-primary" onclick="searchAuditLogs()">
                            <i class="fas fa-search"></i>
                            Search
                        </button>
                    </div>
                </div>
                
                <div style="background: rgba(255,255,255,0.05); border-radius: 12px; padding: 1rem; max-height: 400px; overflow-y: auto;">
                    <div id="auditLogsList">
                        <!-- Audit logs will be populated here -->
                        <div style="color: var(--text-secondary); text-align: center; padding: 2rem;">
                            <i class="fas fa-search" style="font-size: 2rem; margin-bottom: 1rem; opacity: 0.5;"></i><br>
                            Select date range and category to view audit logs
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Sample appeals data
        const appealsData = [
            {
                id: "APL-2024-001",
                citizenName: "Sarah Johnson",
                citizenId: "00472851",
                initials: "SJ",
                appealType: "Score Dispute",
                pointsDisputed: 25,
                currentScore: 847,
                priority: "high",
                status: "pending",
                submittedDate: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),
                reason: "Traffic violation incorrectly recorded",
                evidence: "Police report showing dismissal",
                assignedTo: "Review Team A"
            },
            {
                id: "APL-2024-002",
                citizenName: "Michael Chen",
                citizenId: "00384729",
                initials: "MC",
                appealType: "Data Correction",
                pointsDisputed: 15,
                currentScore: 523,
                priority: "medium",
                status: "under-review",
                submittedDate: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),
                reason: "Incorrect employment status",
                evidence: "Employment verification letter",
                assignedTo: "Review Team B"
            },
            {
                id: "APL-2024-003",
                citizenName: "Emily Rodriguez",
                citizenId: "00629183",
                initials: "ER",
                appealType: "Score Dispute",
                pointsDisputed: 8,
                currentScore: 742,
                priority: "low",
                status: "approved",
                submittedDate: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),
                reason: "Duplicate penalty applied",
                evidence: "System logs showing error",
                assignedTo: "Review Team A"
            },
            {
                id: "APL-2024-004",
                citizenName: "David Thompson",
                citizenId: "00195746",
                initials: "DT",
                appealType: "Identity Verification",
                pointsDisputed: 45,
                currentScore: 298,
                priority: "high",
                status: "rejected",
                submittedDate: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000),
                reason: "Identity theft claim",
                evidence: "Police report filed",
                assignedTo: "Security Team"
            },
            {
                id: "APL-2024-005",
                citizenName: "Lisa Park",
                citizenId: "00518392",
                initials: "LP",
                appealType: "Score Dispute",
                pointsDisputed: 12,
                currentScore: 689,
                priority: "medium",
                status: "pending",
                submittedDate: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000),
                reason: "Community service not recorded",
                evidence: "Volunteer organization certificate",
                assignedTo: "Review Team C"
            },
            {
                id: "APL-2024-006",
                citizenName: "James Wilson",
                citizenId: "00743865",
                initials: "JW",
                appealType: "Data Correction",
                pointsDisputed: 20,
                currentScore: 812,
                priority: "low",
                status: "under-review",
                submittedDate: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000),
                reason: "Address information outdated",
                evidence: "Utility bills and lease agreement",
                assignedTo: "Data Team"
            }
        ];

        let currentTab = 'appeals';
        let charts = {};

        // Initialize the reports system
        document.addEventListener('DOMContentLoaded', function() {
            // Hide loading screen
            setTimeout(() => {
                document.getElementById('loadingOverlay').classList.add('hidden');
            }, 1500);

            // Animate counters
            animateCounters();
            
            // Render appeals table
            renderAppealsTable();
            
            // Initialize charts
            initializeCharts();
        });

        // Animate counter numbers
        function animateCounters() {
            const counters = document.querySelectorAll('[data-target]');
            counters.forEach(counter => {
                const target = parseInt(counter.dataset.target);
                animateCounter(counter, target);
            });
        }

        function animateCounter(element, target, duration = 2000) {
            let start = 0;
            const increment = target / (duration / 16);
            const timer = setInterval(() => {
                start += increment;
                if (start >= target) {
                    element.textContent = target;
                    clearInterval(timer);
                } else {
                    element.textContent = Math.floor(start);
                }
            }, 16);
        }

        // Tab switching
        function switchTab(tabName) {
            currentTab = tabName;
            
            // Update tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update tab content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(`${tabName}-tab`).classList.add('active');
            
            // Initialize tab-specific content
            if (tabName === 'analytics') {
                setTimeout(() => {
                    initializeReportAnalytics();
                }, 100);
            }
        }

        // Render appeals table
        function renderAppealsTable() {
            const tbody = document.getElementById('appealsTableBody');
            
            tbody.innerHTML = appealsData.map(appeal => `
                <tr>
                    <td><input type="checkbox" class="appeal-checkbox" value="${appeal.id}"></td>
                    <td>
                        <div class="appeal-info">
                            <div class="appeal-avatar">${appeal.initials}</div>
                            <div class="appeal-details">
                                <div class="appeal-citizen">${appeal.citizenName}</div>
                                <div class="appeal-id">${appeal.citizenId}</div>
                            </div>
                        </div>
                    </td>
                    <td>${appeal.appealType}</td>
                    <td>
                        <span style="color: var(--accent-red); font-weight: 600;">-${appeal.pointsDisputed}</span>
                        <div style="font-size: 0.8rem; color: var(--text-secondary);">Current: ${appeal.currentScore}</div>
                    </td>
                    <td>
                        <span class="priority-badge priority-${appeal.priority}">
                            <i class="fas fa-${getPriorityIcon(appeal.priority)}"></i>
                            ${appeal.priority.toUpperCase()}
                        </span>
                    </td>
                    <td>
                        <span class="status-badge status-${appeal.status}">
                            <i class="fas fa-${getStatusIcon(appeal.status)}"></i>
                            ${appeal.status.replace('-', ' ').toUpperCase()}
                        </span>
                    </td>
                    <td>${formatDate(appeal.submittedDate)}</td>
                    <td>
                        <div style="display: flex; gap: 0.3rem;">
                            <button class="action-btn btn-primary" onclick="viewAppeal('${appeal.id}')" title="View Details">
                                <i class="fas fa-eye"></i>
                            </button>
                            ${appeal.status === 'pending' ? `
                                <button class="action-btn btn-success" onclick="approveAppeal('${appeal.id}')" title="Approve">
                                    <i class="fas fa-check"></i>
                                </button>
                                <button class="action-btn btn-danger" onclick="rejectAppeal('${appeal.id}')" title="Reject">
                                    <i class="fas fa-times"></i>
                                </button>
                            ` : ''}
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        // Helper functions
        function getPriorityIcon(priority) {
            const icons = {
                high: 'exclamation-triangle',
                medium: 'exclamation-circle',
                low: 'info-circle'
            };
            return icons[priority] || 'question-circle';
        }

        function getStatusIcon(status) {
            const icons = {
                pending: 'clock',
                'under-review': 'search',
                approved: 'check',
                rejected: 'times'
            };
            return icons[status] || 'question';
        }

        function formatDate(date) {
            return date.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'short', 
                day: 'numeric' 
            });
        }

        // Appeal actions
        function viewAppeal(appealId) {
            const appeal = appealsData.find(a => a.id === appealId);
            if (appeal) {
                showModal('Appeal Details', `
                    <div style="text-align: left;">
                        <div style="display: flex; align-items: center; gap: 1.5rem; margin-bottom: 2rem;">
                            <div style="width: 80px; height: 80px; border-radius: 50%; background: var(--gradient-primary); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.5rem;">
                                ${appeal.initials}
                            </div>
                            <div>
                                <h3 style="color: var(--text-primary); margin-bottom: 0.3rem; font-size: 1.5rem;">${appeal.citizenName}</h3>
                                <div style="color: var(--text-secondary); font-family: monospace; margin-bottom: 0.2rem;">ID: ${appeal.citizenId}</div>
                                <div style="color: var(--text-secondary);">Appeal ID: ${appeal.id}</div>
                            </div>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem;">
                            <div>
                                <h4 style="color: var(--text-primary); margin-bottom: 1rem; font-size: 1.1rem;">Appeal Information</h4>
                                <div style="margin-bottom: 0.5rem;"><strong>Type:</strong> ${appeal.appealType}</div>
                                <div style="margin-bottom: 0.5rem;"><strong>Points Disputed:</strong> <span style="color: var(--accent-red);">-${appeal.pointsDisputed}</span></div>
                                <div style="margin-bottom: 0.5rem;"><strong>Current Score:</strong> ${appeal.currentScore}</div>
                                <div style="margin-bottom: 0.5rem;"><strong>Priority:</strong> ${appeal.priority.toUpperCase()}</div>
                                <div style="margin-bottom: 0.5rem;"><strong>Status:</strong> ${appeal.status.replace('-', ' ').toUpperCase()}</div>
                                <div style="margin-bottom: 0.5rem;"><strong>Submitted:</strong> ${formatDate(appeal.submittedDate)}</div>
                            </div>
                            <div>
                                <h4 style="color: var(--text-primary); margin-bottom: 1rem; font-size: 1.1rem;">Processing Details</h4>
                                <div style="margin-bottom: 0.5rem;"><strong>Assigned To:</strong> ${appeal.assignedTo}</div>
                                <div style="margin-bottom: 0.5rem;"><strong>Reason:</strong> ${appeal.reason}</div>
                                <div style="margin-bottom: 0.5rem;"><strong>Evidence:</strong> ${appeal.evidence}</div>
                                <div style="margin-bottom: 0.5rem;"><strong>Processing Time:</strong> ${Math.floor((new Date() - appeal.submittedDate) / (1000 * 60 * 60 * 24))} days</div>
                            </div>
                        </div>
                        
                        <div style="background: rgba(255,255,255,0.05); padding: 1.5rem; border-radius: 12px; margin-bottom: 1.5rem;">
                            <h4 style="color: var(--text-primary); margin-bottom: 1rem; font-size: 1.1rem;">Appeal Summary</h4>
                            <p style="color: var(--text-secondary); line-height: 1.6;">
                                ${appeal.citizenName} is disputing ${appeal.pointsDisputed} points from their IEC score due to "${appeal.reason}". 
                                They have provided "${appeal.evidence}" as supporting evidence. This appeal is currently ${appeal.status} 
                                and assigned to ${appeal.assignedTo} for review.
                            </p>
                        </div>

                        <div style="display: flex; gap: 1rem; justify-content: center;">
                            ${appeal.status === 'pending' ? `
                                <button onclick="approveAppeal('${appeal.id}'); closeModal();" style="background: var(--gradient-success); color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                                    <i class="fas fa-check"></i> Approve Appeal
                                </button>
                                <button onclick="rejectAppeal('${appeal.id}'); closeModal();" style="background: var(--gradient-danger); color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                                    <i class="fas fa-times"></i> Reject Appeal
                                </button>
                            ` : ''}
                            <button onclick="generateAppealReport('${appeal.id}'); closeModal();" style="background: var(--gradient-primary); color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                                <i class="fas fa-file-alt"></i> Generate Report
                            </button>
                        </div>
                    </div>
                `);
            }
        }

        function approveAppeal(appealId) {
            const appeal = appealsData.find(a => a.id === appealId);
            if (appeal) {
                appeal.status = 'approved';
                renderAppealsTable();
                updateChartsData();
                showNotification('Appeal Approved', `Appeal ${appealId} has been approved. Points will be restored to citizen's account.`);
            }
        }

        function rejectAppeal(appealId) {
            const appeal = appealsData.find(a => a.id === appealId);
            if (appeal) {
                showModal('Reject Appeal', `
                    <div style="text-align: left;">
                        <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Reject Appeal ${appealId}</h4>
                        <div style="margin-bottom: 2rem;">
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary);">Reason for Rejection:</label>
                            <select style="width: 100%; padding: 0.8rem; background: rgba(255,255,255,0.1); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary); margin-bottom: 1rem;" id="rejectionReason">
                                <option value="insufficient-evidence">Insufficient Evidence</option>
                                <option value="duplicate-submission">Duplicate Submission</option>
                                <option value="outside-appeal-window">Outside Appeal Window</option>
                                <option value="invalid-claim">Invalid Claim</option>
                                <option value="other">Other</option>
                            </select>
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary);">Additional Comments:</label>
                            <textarea placeholder="Provide detailed explanation for rejection..." style="width: 100%; height: 100px; padding: 0.8rem; background: rgba(255,255,255,0.1); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary); resize: vertical;" id="rejectionComments"></textarea>
                        </div>
                        <div style="display: flex; gap: 1rem; justify-content: center;">
                            <button onclick="confirmRejection('${appealId}')" style="background: var(--gradient-danger); color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                                <i class="fas fa-times"></i> Confirm Rejection
                            </button>
                            <button onclick="closeModal()" style="background: rgba(255,255,255,0.1); color: var(--text-secondary); border: 1px solid var(--border-color); padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                                Cancel
                            </button>
                        </div>
                    </div>
                `);
            }
        }

        function confirmRejection(appealId) {
            const appeal = appealsData.find(a => a.id === appealId);
            const reason = document.getElementById('rejectionReason').value;
            const comments = document.getElementById('rejectionComments').value;
            
            if (appeal) {
                appeal.status = 'rejected';
                appeal.rejectionReason = reason;
                appeal.rejectionComments = comments;
                renderAppealsTable();
                updateChartsData();
                closeModal();
                showNotification('Appeal Rejected', `Appeal ${appealId} has been rejected. Citizen will be notified.`);
            }
        }

        // Bulk actions
        function toggleSelectAll() {
            const selectAll = document.getElementById('selectAll');
            const checkboxes = document.querySelectorAll('.appeal-checkbox');
            
            checkboxes.forEach(checkbox => {
                checkbox.checked = selectAll.checked;
            });
        }

        function bulkApprove() {
            const selectedAppeals = getSelectedAppeals();
            if (selectedAppeals.length === 0) {
                showNotification('No Selection', 'Please select appeals to approve.');
                return;
            }
            
            showModal('Bulk Approve Appeals', `
                <div style="text-align: center;">
                    <div style="font-size: 3rem; color: var(--accent-green); margin-bottom: 1rem;">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Approve ${selectedAppeals.length} Appeals</h4>
                    <p style="color: var(--text-secondary); margin-bottom: 2rem;">
                        This will approve all selected appeals and restore the disputed points to citizens' accounts.
                        This action cannot be undone.
                    </p>
                    <div style="display: flex; gap: 1rem; justify-content: center;">
                        <button onclick="confirmBulkApprove()" style="background: var(--gradient-success); color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                            <i class="fas fa-check"></i> Approve All
                        </button>
                        <button onclick="closeModal()" style="background: rgba(255,255,255,0.1); color: var(--text-secondary); border: 1px solid var(--border-color); padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                            Cancel
                        </button>
                    </div>
                </div>
            `);
        }

        function bulkReject() {
            const selectedAppeals = getSelectedAppeals();
            if (selectedAppeals.length === 0) {
                showNotification('No Selection', 'Please select appeals to reject.');
                return;
            }
            
            showModal('Bulk Reject Appeals', `
                <div style="text-align: center;">
                    <div style="font-size: 3rem; color: var(--accent-red); margin-bottom: 1rem;">
                        <i class="fas fa-times-circle"></i>
                    </div>
                    <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Reject ${selectedAppeals.length} Appeals</h4>
                    <p style="color: var(--text-secondary); margin-bottom: 2rem;">
                        This will reject all selected appeals. Citizens will be notified of the decision.
                        This action cannot be undone.
                    </p>
                    <div style="display: flex; gap: 1rem; justify-content: center;">
                        <button onclick="confirmBulkReject()" style="background: var(--gradient-danger); color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                            <i class="fas fa-times"></i> Reject All
                        </button>
                        <button onclick="closeModal()" style="background: rgba(255,255,255,0.1); color: var(--text-secondary); border: 1px solid var(--border-color); padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                            Cancel
                        </button>
                    </div>
                </div>
            `);
        }

        function getSelectedAppeals() {
            const checkboxes = document.querySelectorAll('.appeal-checkbox:checked');
            return Array.from(checkboxes).map(cb => cb.value);
        }

        function confirmBulkApprove() {
            const selectedAppeals = getSelectedAppeals();
            selectedAppeals.forEach(appealId => {
                const appeal = appealsData.find(a => a.id === appealId);
                if (appeal) {
                    appeal.status = 'approved';
                }
            });
            
            renderAppealsTable();
            updateChartsData();
            closeModal();
            showNotification('Bulk Approval Complete', `${selectedAppeals.length} appeals have been approved.`);
        }

        function confirmBulkReject() {
            const selectedAppeals = getSelectedAppeals();
            selectedAppeals.forEach(appealId => {
                const appeal = appealsData.find(a => a.id === appealId);
                if (appeal) {
                    appeal.status = 'rejected';
                }
            });
            
            renderAppealsTable();
            updateChartsData();
            closeModal();
            showNotification('Bulk Rejection Complete', `${selectedAppeals.length} appeals have been rejected.`);
        }

        // Export and refresh functions
        function exportAppeals() {
            showNotification('Export Started', 'Appeals data export has been initiated. Download will begin shortly.');
            setTimeout(() => {
                const csvContent = "data:text/csv;charset=utf-8," + 
                    "Appeal ID,Citizen Name,Citizen ID,Appeal Type,Points Disputed,Priority,Status,Submitted Date,Reason\n" +
                    appealsData.map(a => `${a.id},${a.citizenName},${a.citizenId},${a.appealType},${a.pointsDisputed},${a.priority},${a.status},${a.submittedDate.toISOString().split('T')[0]},${a.reason}`).join('\n');
                
                const encodedUri = encodeURI(csvContent);
                const link = document.createElement("a");
                link.setAttribute("href", encodedUri);
                link.setAttribute("download", "appeals_data.csv");
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }, 1000);
        }

        function refreshAppeals() {
            showNotification('Refreshing', 'Refreshing appeals data...');
            setTimeout(() => {
                renderAppealsTable();
                updateChartsData();
                showNotification('Refreshed', 'Appeals data has been refreshed.');
            }, 1000);
        }

        // Initialize charts
        function initializeCharts() {
            initializeAppealsStatusChart();
            initializeAppealsTrendChart();
        }

        function initializeAppealsStatusChart() {
            const ctx = document.getElementById('appealsStatusChart').getContext('2d');
            const statusCounts = {
                pending: appealsData.filter(a => a.status === 'pending').length,
                approved: appealsData.filter(a => a.status === 'approved').length,
                rejected: appealsData.filter(a => a.status === 'rejected').length,
                'under-review': appealsData.filter(a => a.status === 'under-review').length
            };

            charts.appealsStatus = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Pending', 'Approved', 'Rejected', 'Under Review'],
                    datasets: [{
                        data: [statusCounts.pending, statusCounts.approved, statusCounts.rejected, statusCounts['under-review']],
                        backgroundColor: [
                            '#f59e0b',
                            '#10b981',
                            '#ef4444',
                            '#3b82f6'
                        ],
                        borderWidth: 0,
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#cbd5e1',
                                padding: 15,
                                usePointStyle: true
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(20, 20, 20, 0.9)',
                            titleColor: '#f8fafc',
                            bodyColor: '#cbd5e1',
                            borderColor: '#7c3aed',
                            borderWidth: 1
                        }
                    }
                }
            });
        }

        function initializeAppealsTrendChart() {
            const ctx = document.getElementById('appealsTrendChart').getContext('2d');
            
            // Generate sample trend data for the last 30 days
            const trendData = [];
            const labels = [];
            for (let i = 29; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                labels.push(date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }));
                trendData.push(Math.floor(Math.random() * 10) + 2);
            }

            charts.appealsTrend = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Appeals Submitted',
                        data: trendData,
                        borderColor: '#7c3aed',
                        backgroundColor: 'rgba(124, 58, 237, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#7c3aed',
                        pointBorderColor: '#ffffff',
                        pointBorderWidth: 2,
                        pointRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: 'rgba(20, 20, 20, 0.9)',
                            titleColor: '#f8fafc',
                            bodyColor: '#cbd5e1',
                            borderColor: '#7c3aed',
                            borderWidth: 1
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#cbd5e1',
                                maxTicksLimit: 10
                            }
                        },
                        y: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#cbd5e1'
                            }
                        }
                    }
                }
            });
        }

        function updateChartsData() {
            if (charts.appealsStatus) {
                const statusCounts = {
                    pending: appealsData.filter(a => a.status === 'pending').length,
                    approved: appealsData.filter(a => a.status === 'approved').length,
                    rejected: appealsData.filter(a => a.status === 'rejected').length,
                    'under-review': appealsData.filter(a => a.status === 'under-review').length
                };
                
                charts.appealsStatus.data.datasets[0].data = [
                    statusCounts.pending, 
                    statusCounts.approved, 
                    statusCounts.rejected, 
                    statusCounts['under-review']
                ];
                charts.appealsStatus.update();
            }
        }

        // Report generation functions
        function generateReport(reportType) {
            const reportNames = {
                'citizen-summary': 'Citizen Summary Report',
                'appeals-analysis': 'Appeals Analysis Report',
                'compliance-audit': 'Compliance Audit Report',
                'performance-metrics': 'Performance Metrics Report',
                'risk-assessment': 'Risk Assessment Report',
                'financial-impact': 'Financial Impact Report'
            };
            
            showModal('Generate Report', `
                <div style="text-align: center;">
                    <div style="font-size: 3rem; color: var(--primary-purple); margin-bottom: 1rem;">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Generate ${reportNames[reportType]}</h4>
                    <div style="text-align: left; margin-bottom: 2rem;">
                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary);">Date Range:</label>
                            <div style="display: flex; gap: 1rem;">
                                <input type="date" style="flex: 1; padding: 0.8rem; background: rgba(255,255,255,0.1); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary);" id="reportStartDate">
                                <input type="date" style="flex: 1; padding: 0.8rem; background: rgba(255,255,255,0.1); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary);" id="reportEndDate">
                            </div>
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary);">Format:</label>
                            <select style="width: 100%; padding: 0.8rem; background: rgba(255,255,255,0.1); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary);" id="reportFormat">
                                <option value="pdf">PDF Document</option>
                                <option value="excel">Excel Spreadsheet</option>
                                <option value="csv">CSV Data</option>
                                <option value="json">JSON Data</option>
                            </select>
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary);">Include:</label>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem;">
                                <label style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-primary);">
                                    <input type="checkbox" checked> Charts & Graphs
                                </label>
                                <label style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-primary);">
                                    <input type="checkbox" checked> Summary Statistics
                                </label>
                                <label style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-primary);">
                                    <input type="checkbox"> Detailed Data
                                </label>
                                <label style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-primary);">
                                    <input type="checkbox"> Recommendations
                                </label>
                            </div>
                        </div>
                    </div>
                    <div style="display: flex; gap: 1rem; justify-content: center;">
                        <button onclick="confirmReportGeneration('${reportType}')" style="background: var(--gradient-success); color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                            <i class="fas fa-play"></i> Generate Report
                        </button>
                        <button onclick="closeModal()" style="background: rgba(255,255,255,0.1); color: var(--text-secondary); border: 1px solid var(--border-color); padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                            Cancel
                        </button>
                    </div>
                </div>
            `);
        }

        function confirmReportGeneration(reportType) {
            const startDate = document.getElementById('reportStartDate').value;
            const endDate = document.getElementById('reportEndDate').value;
            const format = document.getElementById('reportFormat').value;
            
            closeModal();
            showNotification('Report Generation Started', `Your ${reportType} report is being generated. You will be notified when it's ready.`);
            
            // Simulate report generation
            setTimeout(() => {
                showNotification('Report Ready', `Your ${reportType} report has been generated and is ready for download.`);
            }, 3000);
        }

        function generateCustomReport() {
            showModal('Custom Report Generator', `
                <div style="text-align: left;">
                    <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Create Custom Report</h4>
                    <div style="margin-bottom: 2rem;">
                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary);">Report Name:</label>
                            <input type="text" placeholder="Enter report name..." style="width: 100%; padding: 0.8rem; background: rgba(255,255,255,0.1); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary);" id="customReportName">
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary);">Data Sources:</label>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem;">
                                <label style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-primary);">
                                    <input type="checkbox"> Citizen Data
                                </label>
                                <label style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-primary);">
                                    <input type="checkbox"> Appeals Data
                                </label>
                                <label style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-primary);">
                                    <input type="checkbox"> System Logs
                                </label>
                                <label style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-primary);">
                                    <input type="checkbox"> Performance Metrics
                                </label>
                                <label style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-primary);">
                                    <input type="checkbox"> Security Events
                                </label>
                                <label style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-primary);">
                                    <input type="checkbox"> Audit Trails
                                </label>
                            </div>
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary);">Filters:</label>
                            <textarea placeholder="Enter custom filters (e.g., district=1, score>500, date_range=last_30_days)..." style="width: 100%; height: 80px; padding: 0.8rem; background: rgba(255,255,255,0.1); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary); resize: vertical;" id="customReportFilters"></textarea>
                        </div>
                    </div>
                    <div style="display: flex; gap: 1rem; justify-content: center;">
                        <button onclick="createCustomReport()" style="background: var(--gradient-primary); color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                            <i class="fas fa-plus"></i> Create Report
                        </button>
                        <button onclick="closeModal()" style="background: rgba(255,255,255,0.1); color: var(--text-secondary); border: 1px solid var(--border-color); padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                            Cancel
                        </button>
                    </div>
                </div>
            `);
        }

        function createCustomReport() {
            const reportName = document.getElementById('customReportName').value;
            const filters = document.getElementById('customReportFilters').value;
            
            if (!reportName) {
                showNotification('Error', 'Please enter a report name.');
                return;
            }
            
            closeModal();
            showNotification('Custom Report Created', `Custom report "${reportName}" has been created and is being generated.`);
        }

        // Initialize report analytics charts
        function initializeReportAnalytics() {
            initializeReportFrequencyChart();
            initializeDownloadStatsChart();
        }

        function initializeReportFrequencyChart() {
            const ctx = document.getElementById('reportFrequencyChart');
            if (!ctx) return;
            
            new Chart(ctx.getContext('2d'), {
                type: 'bar',
                data: {
                    labels: ['Citizen Summary', 'Appeals Analysis', 'Compliance Audit', 'Performance', 'Risk Assessment', 'Financial Impact'],
                    datasets: [{
                        label: 'Reports Generated',
                        data: [45, 32, 28, 38, 22, 15],
                        backgroundColor: [
                            '#06b6d4',
                            '#7c3aed',
                            '#10b981',
                            '#f59e0b',
                            '#ef4444',
                            '#3b82f6'
                        ],
                        borderRadius: 4,
                        borderSkipped: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: 'rgba(20, 20, 20, 0.9)',
                            titleColor: '#f8fafc',
                            bodyColor: '#cbd5e1',
                            borderColor: '#7c3aed',
                            borderWidth: 1
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#cbd5e1'
                            }
                        },
                        y: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#cbd5e1'
                            }
                        }
                    }
                }
            });
        }

        function initializeDownloadStatsChart() {
            const ctx = document.getElementById('downloadStatsChart');
            if (!ctx) return;
            
            new Chart(ctx.getContext('2d'), {
                type: 'doughnut',
                data: {
                    labels: ['PDF', 'Excel', 'CSV', 'JSON'],
                    datasets: [{
                        data: [65, 25, 8, 2],
                        backgroundColor: [
                            '#ef4444',
                            '#10b981',
                            '#f59e0b',
                            '#3b82f6'
                        ],
                        borderWidth: 0,
                        hoverOffset: 5
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#cbd5e1',
                                padding: 10,
                                usePointStyle: true,
                                font: {
                                    size: 10
                                }
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(20, 20, 20, 0.9)',
                            titleColor: '#f8fafc',
                            bodyColor: '#cbd5e1',
                            borderColor: '#7c3aed',
                            borderWidth: 1,
                            callbacks: {
                                label: function(context) {
                                    return `${context.label}: ${context.parsed}%`;
                                }
                            }
                        }
                    }
                }
            });
        }

        // Quick actions
        function reviewHighPriority() {
            const highPriorityAppeals = appealsData.filter(a => a.priority === 'high' && a.status === 'pending');
            showNotification('High Priority Review', `Found ${highPriorityAppeals.length} high priority appeals requiring immediate attention.`);
        }

        function generateAppealsReport() {
            generateReport('appeals-analysis');
        }

        function configureAppeals() {
            showModal('Configure Appeals System', `
                <div style="text-align: left;">
                    <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Appeals System Configuration</h4>
                    
                    <div style="margin-bottom: 2rem;">
                        <h5 style="color: var(--text-primary); margin-bottom: 1rem;">Processing Timeframes</h5>
                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary);">High Priority (hours):</label>
                            <input type="number" value="24" style="width: 100%; padding: 0.8rem; background: rgba(255,255,255,0.1); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary);">
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary);">Standard Processing (days):</label>
                            <input type="number" value="5" style="width: 100%; padding: 0.8rem; background: rgba(255,255,255,0.1); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary);">
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 2rem;">
                        <h5 style="color: var(--text-primary); margin-bottom: 1rem;">Auto-Assignment Rules</h5>
                        <div style="margin-bottom: 1rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-primary);">
                                <input type="checkbox" checked> Enable auto-assignment
                            </label>
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-primary);">
                                <input type="checkbox"> Load balancing
                            </label>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; justify-content: center;">
                        <button style="background: var(--gradient-success); color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                            <i class="fas fa-save"></i> Save Configuration
                        </button>
                        <button onclick="closeModal()" style="background: rgba(255,255,255,0.1); color: var(--text-secondary); border: 1px solid var(--border-color); padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                            Cancel
                        </button>
                    </div>
                </div>
            `);
        }

        function appealStatistics() {
            showModal('Appeal Statistics', `
                <div style="text-align: left;">
                    <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Detailed Appeal Statistics</h4>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem;">
                        <div>
                            <h5 style="color: var(--text-primary); margin-bottom: 1rem;">Processing Metrics</h5>
                            <div style="margin-bottom: 0.5rem;"><strong>Average Processing Time:</strong> 3.2 days</div>
                            <div style="margin-bottom: 0.5rem;"><strong>Success Rate:</strong> 68%</div>
                            <div style="margin-bottom: 0.5rem;"><strong>Appeals This Month:</strong> 89</div>
                            <div style="margin-bottom: 0.5rem;"><strong>Backlog:</strong> 23 appeals</div>
                        </div>
                        <div>
                            <h5 style="color: var(--text-primary); margin-bottom: 1rem;">Category Breakdown</h5>
                            <div style="margin-bottom: 0.5rem;"><strong>Score Disputes:</strong> 45%</div>
                            <div style="margin-bottom: 0.5rem;"><strong>Data Corrections:</strong> 32%</div>
                            <div style="margin-bottom: 0.5rem;"><strong>Identity Issues:</strong> 15%</div>
                            <div style="margin-bottom: 0.5rem;"><strong>Other:</strong> 8%</div>
                        </div>
                    </div>
                    
                    <div style="background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 8px; margin-bottom: 2rem;">
                        <strong style="color: var(--text-primary);">Recommendations:</strong><br>
                        <span style="color: var(--text-secondary);">
                            • Increase processing capacity for score disputes<br>
                            • Implement automated data correction workflows<br>
                            • Enhance identity verification procedures
                        </span>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; justify-content: center;">
                        <button onclick="closeModal()" style="background: var(--gradient-primary); color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                            Close
                        </button>
                    </div>
                </div>
            `);
        }

        // Audit logs functionality
        function searchAuditLogs() {
            const startDate = document.getElementById('auditStartDate').value;
            const endDate = document.getElementById('auditEndDate').value;
            const category = document.getElementById('auditCategory').value;
            
            if (!startDate || !endDate) {
                showNotification('Date Required', 'Please select both start and end dates.');
                return;
            }
            
            // Simulate audit log search
            const auditLogs = [
                {
                    timestamp: new Date(),
                    category: 'user',
                    action: 'Appeal Approved',
                    user: 'Admin User',
                    details: 'Appeal APL-2024-001 approved by administrator',
                    ip: '192.168.1.100'
                },
                {
                    timestamp: new Date(Date.now() - 30 * 60 * 1000),
                    category: 'system',
                    action: 'Report Generated',
                    user: 'System',
                    details: 'Citizen Summary Report generated automatically',
                    ip: 'localhost'
                },
                {
                    timestamp: new Date(Date.now() - 60 * 60 * 1000),
                    category: 'security',
                    action: 'Login Attempt',
                    user: 'Unknown',
                    details: 'Failed login attempt detected',
                    ip: '203.0.113.45'
                },
                {
                    timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000),
                    category: 'data',
                    action: 'Citizen Score Updated',
                    user: 'Data Processor',
                    details: 'IEC score updated for citizen 00472851',
                    ip: '192.168.1.105'
                }
            ];
            
            const filteredLogs = category ? auditLogs.filter(log => log.category === category) : auditLogs;
            
            document.getElementById('auditLogsList').innerHTML = filteredLogs.map(log => `
                <div style="padding: 1rem; border-bottom: 1px solid var(--border-color); margin-bottom: 0.5rem;">
                    <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 0.5rem;">
                        <strong style="color: var(--text-primary);">${log.action}</strong>
                        <span style="color: var(--text-secondary); font-size: 0.8rem;">${log.timestamp.toLocaleString()}</span>
                    </div>
                    <div style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 0.3rem;">${log.details}</div>
                    <div style="display: flex; gap: 1rem; font-size: 0.8rem; color: var(--text-secondary);">
                        <span><strong>User:</strong> ${log.user}</span>
                        <span><strong>Category:</strong> ${log.category}</span>
                        <span><strong>IP:</strong> ${log.ip}</span>
                    </div>
                </div>
            `).join('');
        }

        // View report function
        function viewReport(reportId) {
            showModal('Report Details', `
                <div style="text-align: left;">
                    <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Report ${reportId}</h4>
                    <div style="margin-bottom: 2rem;">
                        <div style="margin-bottom: 0.5rem;"><strong>Status:</strong> <span style="color: var(--accent-green);">Completed</span></div>
                        <div style="margin-bottom: 0.5rem;"><strong>Generated:</strong> 2 hours ago</div>
                        <div style="margin-bottom: 0.5rem;"><strong>Size:</strong> 2.4 MB</div>
                        <div style="margin-bottom: 0.5rem;"><strong>Format:</strong> PDF</div>
                        <div style="margin-bottom: 0.5rem;"><strong>Downloads:</strong> 23</div>
                    </div>
                    <div style="display: flex; gap: 1rem; justify-content: center;">
                        <button style="background: var(--gradient-primary); color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                            <i class="fas fa-download"></i> Download
                        </button>
                        <button style="background: var(--gradient-secondary); color: white; border: none; padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                            <i class="fas fa-share"></i> Share
                        </button>
                        <button onclick="closeModal()" style="background: rgba(255,255,255,0.1); color: var(--text-secondary); border: 1px solid var(--border-color); padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">
                            Close
                        </button>
                    </div>
                </div>
            `);
        }

        // Filter functionality
        function setReportFilter(filter) {
            // Update active button
            document.querySelectorAll('.report-filter button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            showNotification('Filter Applied', `Reports filtered by ${filter.toUpperCase()}`);
        }

        // Modal system
        function showModal(title, content) {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay active';
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.9);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
                opacity: 1;
                transition: opacity 0.3s ease;
            `;
            
            modal.innerHTML = `
                <div style="
                    background: var(--card-bg);
                    padding: 2rem;
                    border-radius: 20px;
                    max-width: 900px;
                    max-height: 90vh;
                    overflow-y: auto;
                    border: 1px solid var(--border-color);
                    backdrop-filter: blur(20px);
                    position: relative;
                    width: 90%;
                ">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h3 style="color: var(--text-primary); font-size: 1.5rem; font-weight: 700;">${title}</h3>
                        <button onclick="this.closest('.modal-overlay').remove()" style="
                            background: none;
                            border: none;
                            color: var(--text-secondary);
                            font-size: 1.5rem;
                            cursor: pointer;
                            padding: 0.5rem;
                            border-radius: 50%;
                            transition: all 0.3s ease;
                        " onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background='none'">&times;</button>
                    </div>
                    ${content}
                </div>
            `;
            
            document.body.appendChild(modal);
            
            modal.addEventListener('click', (e) => {
                if (e.target === modal) modal.remove();
            });
        }

        function closeModal() {
            const modal = document.querySelector('.modal-overlay');
            if (modal) modal.remove();
        }

        // Notification system
        function showNotification(title, message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--card-bg);
                border: 1px solid var(--border-color);
                border-radius: 12px;
                padding: 1rem 1.5rem;
                backdrop-filter: blur(20px);
                z-index: 10000;
                opacity: 0;
                transform: translateX(100%);
                transition: all 0.3s ease;
                max-width: 350px;
                border-left: 4px solid var(--primary-purple);
            `;
            
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                    <i class="fas fa-file-alt" style="color: var(--primary-purple);"></i>
                    <strong style="color: var(--text-primary);">${title}</strong>
                </div>
                <div style="color: var(--text-secondary); font-size: 0.9rem;">${message}</div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '1';
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => notification.remove(), 300);
            }, 4000);
        }

        // Parallax effect for floating shapes
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const shapes = document.querySelectorAll('.shape');
            shapes.forEach((shape, index) => {
                const speed = 0.2 + (index * 0.1);
                shape.style.transform = `translateY(${scrolled * speed}px)`;
            });
        });
    </script>
</body>
</html>